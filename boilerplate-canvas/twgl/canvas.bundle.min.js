"use strict";(()=>{var e=Float32Array;function t(t,r,n){let i=new e(3);return t&&(i[0]=t),r&&(i[1]=r),n&&(i[2]=n),i}function r(t,r,n){return(n=n||new e(3))[0]=t[0]+r[0],n[1]=t[1]+r[1],n[2]=t[2]+r[2],n}function n(t,r,n){return(n=n||new e(3))[0]=t[0]*r[0],n[1]=t[1]*r[1],n[2]=t[2]*r[2],n}var i=Float32Array;function o(e,r,n){n=n||t();let i=r[0],o=r[1],a=r[2],u=i*e[3]+o*e[7]+a*e[11]+e[15];return n[0]=(i*e[0]+o*e[4]+a*e[8]+e[12])/u,n[1]=(i*e[1]+o*e[5]+a*e[9]+e[13])/u,n[2]=(i*e[2]+o*e[6]+a*e[10]+e[14])/u,n}function a(e,r,n){n=n||t();let i=r[0],o=r[1],a=r[2];return n[0]=i*e[0]+o*e[4]+a*e[8],n[1]=i*e[1]+o*e[5]+a*e[9],n[2]=i*e[2]+o*e[6]+a*e[10],n}var u=5120,s=5121,f=5122,l=5123,c=5124,y=5125,m=5126,d={};{let e=d;e[u]=Int8Array,e[s]=Uint8Array,e[f]=Int16Array,e[l]=Uint16Array,e[c]=Int32Array,e[y]=Uint32Array,e[m]=Float32Array,e[32819]=Uint16Array,e[32820]=Uint16Array,e[33635]=Uint16Array,e[5131]=Uint16Array,e[33640]=Uint32Array,e[35899]=Uint32Array,e[35902]=Uint32Array,e[36269]=Uint32Array,e[34042]=Uint32Array}function p(e){if(e instanceof Int8Array)return u;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return s;if(e instanceof Int16Array)return f;if(e instanceof Uint16Array)return l;if(e instanceof Int32Array)return c;if(e instanceof Uint32Array)return y;if(e instanceof Float32Array)return m;throw new Error("unsupported typed array type")}function b(e){if(e===Int8Array)return u;if(e===Uint8Array||e===Uint8ClampedArray)return s;if(e===Int16Array)return f;if(e===Uint16Array)return l;if(e===Int32Array)return c;if(e===Uint32Array)return y;if(e===Float32Array)return m;throw new Error("unsupported typed array type")}var h=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};var v=new Map;function A(e,t){if(!e||"object"!=typeof e)return!1;let r=v.get(t);r||(r=new WeakMap,v.set(t,r));let n=r.get(e);if(void 0===n){let i=Object.prototype.toString.call(e);n=i.substring(8,i.length-1)===t,r.set(e,n)}return n}function g(e,t){return typeof WebGLTexture<"u"&&A(t,"WebGLTexture")}var x=35044,z=34962,w=34963,T=34660,S=5120,P=5121,E=5122,C=5123,k=5124,U=5125,M=5126,I={attribPrefix:""};function F(e,t,r,n){if(function(e,t){return typeof WebGLBuffer<"u"&&A(t,"WebGLBuffer")}(0,t))return t;r=r||z;let i=e.createBuffer();return function(e,t,r,n,i){e.bindBuffer(t,r),e.bufferData(t,n,i||x)}(e,r,i,t,n),i}function O(e){return"indices"===e}function B(e){return e.length?e:e.data}var j=/coord|texture/i,$=/color|colour/i;function _(e,t,r){return e.numComponents||e.size||function(e,t){let r;if(r=j.test(e)?2:$.test(e)?4:3,t%r>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${r} but ${t} values is not evenly divisible by ${r}. You should specify it.`);return r}(t,r||B(e).length)}function R(e,t){if(h(e))return e;if(h(e.data))return e.data;Array.isArray(e)&&(e={data:e});let r=e.type?D(e.type):void 0;return r||(r=O(t)?Uint16Array:Float32Array),new r(e.data)}function V(e){return"number"==typeof e?e:e?b(e):M}function D(e){return"number"==typeof e?function(e){let t=d[e];if(!t)throw new Error("unknown gl type");return t}(e):e||Float32Array}function L(e,t){return{buffer:t.buffer,numValues:24,type:V(t.type),arrayType:D(t.type)}}function N(e,t){let r=t.data||t,n=D(t.type),i=r*n.BYTES_PER_ELEMENT,o=e.createBuffer();return e.bindBuffer(z,o),e.bufferData(z,i,t.drawType||x),{buffer:o,numValues:r,type:b(n),arrayType:n}}function W(e,t,r){let n=R(t,r);return{arrayType:n.constructor,buffer:F(e,n,void 0,t.drawType),type:p(n),numValues:0}}function H(e,t){let r={};return Object.keys(t).forEach((function(n){if(!O(n)){let i=t[n],o=i.attrib||i.name||i.attribName||I.attribPrefix+n;if(i.value){if(!Array.isArray(i.value)&&!h(i.value))throw new Error("array.value is not array or typedarray");r[o]={value:i.value}}else{let t;t=i.buffer&&i.buffer instanceof WebGLBuffer?L:"number"==typeof i||"number"==typeof i.data?N:W;let{buffer:a,type:u,numValues:s,arrayType:f}=t(e,i,n),l=void 0!==i.normalize?i.normalize:function(e){return e===Int8Array||e===Uint8Array}(f),c=_(i,n,s);r[o]={buffer:a,numComponents:c,type:u,normalize:l,stride:i.stride||0,offset:i.offset||0,divisor:void 0===i.divisor?void 0:i.divisor,drawType:i.drawType}}}})),e.bindBuffer(z,null),r}var G=["position","positions","a_position"];function q(e,t){let r,n;for(n=0;n<G.length&&(r=G[n],!(r in t)&&(r=I.attribPrefix+r,!(r in t)));++n);n===G.length&&(r=Object.keys(t)[0]);let i=t[r];if(!i.buffer)return 1;e.bindBuffer(z,i.buffer);let o=e.getBufferParameter(z,T);e.bindBuffer(z,null);let a=function(e,t){return t===S||t===P?1:t===E||t===C?2:t===k||t===U||t===M?4:0}(0,i.type),u=o/a,s=i.numComponents||i.size,f=u/s;if(f%1!=0)throw new Error(`numComponents ${s} not correct for length ${length}`);return f}function Y(e,t,r){let n=H(e,t),i=Object.assign({},r||{});i.attribs=Object.assign({},r?r.attribs:{},n);let o=t.indices;if(o){let t=R(o,"indices");i.indices=F(e,t,w),i.numElements=t.length,i.elementType=p(t)}else i.numElements||(i.numElements=q(e,i.attribs));return i}function K(e,t){let r={};return Object.keys(t).forEach((function(n){r[n]=function(e,t,r){let n="indices"===r?w:z;return F(e,R(t,r),n)}(e,t[n],n)})),t.indices?(r.numElements=t.indices.length,r.elementType=p(R(t.indices))):r.numElements=function(e){let t,r;for(r=0;r<G.length&&(t=G[r],!(t in e));++r);r===G.length&&(t=Object.keys(e)[0]);let n=e[t],i=B(n).length;if(void 0===i)return 1;let o=_(n,t),a=i/o;if(i%o>0)throw new Error(`numComponents ${o} not correct for length ${i}`);return a}(t),r}function X(e,t,r){return function(e,t){let r=0;return e.push=function(){for(let t=0;t<arguments.length;++t){let n=arguments[t];if(n instanceof Array||h(n))for(let t=0;t<n.length;++t)e[r++]=n[t];else e[r++]=n}},e.reset=function(e){r=e||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}(new(r||Float32Array)(e*t),e)}function Z(e,t,r){let n=e.length,i=new Float32Array(3);for(let o=0;o<n;o+=3)r(t,[e[o],e[o+1],e[o+2]],i),e[o]=i[0],e[o+1]=i[1],e[o+2]=i[2]}function J(e,r,n){n=n||t();let i=r[0],o=r[1],a=r[2];return n[0]=i*e[0]+o*e[1]+a*e[2],n[1]=i*e[4]+o*e[5]+a*e[6],n[2]=i*e[8]+o*e[9]+a*e[10],n}function Q(e,t){return Z(e,function(e,t){t=t||new i(16);let r=e[0],n=e[1],o=e[2],a=e[3],u=e[4],s=e[5],f=e[6],l=e[7],c=e[8],y=e[9],m=e[10],d=e[11],p=e[12],b=e[13],h=e[14],v=e[15],A=m*v,g=h*d,x=f*v,z=h*l,w=f*d,T=m*l,S=o*v,P=h*a,E=o*d,C=m*a,k=o*l,U=f*a,M=c*b,I=p*y,F=u*b,O=p*s,B=u*y,j=c*s,$=r*b,_=p*n,R=r*y,V=c*n,D=r*s,L=u*n,N=A*s+z*y+w*b-(g*s+x*y+T*b),W=g*n+S*y+C*b-(A*n+P*y+E*b),H=x*n+P*s+k*b-(z*n+S*s+U*b),G=T*n+E*s+U*y-(w*n+C*s+k*y),q=1/(r*N+u*W+c*H+p*G);return t[0]=q*N,t[1]=q*W,t[2]=q*H,t[3]=q*G,t[4]=q*(g*u+x*c+T*p-(A*u+z*c+w*p)),t[5]=q*(A*r+P*c+E*p-(g*r+S*c+C*p)),t[6]=q*(z*r+S*u+U*p-(x*r+P*u+k*p)),t[7]=q*(w*r+C*u+k*c-(T*r+E*u+U*c)),t[8]=q*(M*l+O*d+B*v-(I*l+F*d+j*v)),t[9]=q*(I*a+$*d+V*v-(M*a+_*d+R*v)),t[10]=q*(F*a+_*l+D*v-(O*a+$*l+L*v)),t[11]=q*(j*a+R*l+L*d-(B*a+V*l+D*d)),t[12]=q*(F*m+j*h+I*f-(B*h+M*f+O*m)),t[13]=q*(R*h+M*o+_*m-($*m+V*h+I*o)),t[14]=q*($*f+L*h+O*o-(D*h+F*o+_*f)),t[15]=q*(D*m+B*o+V*f-(R*f+L*m+j*o)),t}(t),J),e}function ee(e,t){return Object.keys(e).forEach((function(r){let n=e[r];r.indexOf("pos")>=0?function(e,t){Z(e,t,o)}(n,t):r.indexOf("tan")>=0||r.indexOf("binorm")>=0?function(e,t){Z(e,t,a)}(n,t):r.indexOf("norm")>=0&&Q(n,t)})),e}function te(e,t,r){return e=e||2,{position:{numComponents:2,data:[(t=t||0)+-1*(e*=.5),(r=r||0)+-1*e,t+1*e,r+-1*e,t+-1*e,r+1*e,t+1*e,r+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function re(e,t,r,n,o){e=e||1,t=t||1,r=r||1,n=n||1,o=o||function(e){return(e=e||new i(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}();let a=(r+1)*(n+1),u=X(3,a),s=X(3,a),f=X(2,a);for(let i=0;i<=n;i++)for(let o=0;o<=r;o++){let a=o/r,l=i/n;u.push(e*a-.5*e,0,t*l-.5*t),s.push(0,1,0),f.push(a,l)}let l=r+1,c=X(3,r*n*2,Uint16Array);for(let e=0;e<n;e++)for(let t=0;t<r;t++)c.push((e+0)*l+t,(e+1)*l+t,(e+0)*l+t+1),c.push((e+1)*l+t,(e+1)*l+t+1,(e+0)*l+t+1);return ee({position:u,normal:s,texcoord:f,indices:c},o)}function ne(e,t,r,n,i,o,a){if(t<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,o=o||0;let u=(i=i||Math.PI)-n,s=(a=a||2*Math.PI)-o,f=(t+1)*(r+1),l=X(3,f),c=X(3,f),y=X(2,f);for(let i=0;i<=r;i++)for(let a=0;a<=t;a++){let f=a/t,m=i/r,d=s*f+o,p=u*m+n,b=Math.sin(d),h=Math.cos(d),v=Math.sin(p),A=h*v,g=Math.cos(p),x=b*v;l.push(e*A,e*g,e*x),c.push(A,g,x),y.push(1-f,m)}let m=t+1,d=X(3,t*r*2,Uint16Array);for(let e=0;e<t;e++)for(let t=0;t<r;t++)d.push((t+0)*m+e,(t+0)*m+e+1,(t+1)*m+e),d.push((t+1)*m+e,(t+0)*m+e+1,(t+1)*m+e+1);return{position:l,normal:c,texcoord:y,indices:d}}var ie=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function oe(e){let t=(e=e||1)/2,r=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],i=[[1,0],[0,0],[0,1],[1,1]],o=X(3,24),a=X(3,24),u=X(2,24),s=X(3,12,Uint16Array);for(let e=0;e<6;++e){let t=ie[e];for(let s=0;s<4;++s){let f=r[t[s]],l=n[e],c=i[s];o.push(f),a.push(l),u.push(c)}let f=4*e;s.push(f+0,f+1,f+2),s.push(f+0,f+2,f+3)}return{position:o,normal:a,texcoord:u,indices:s}}function ae(e,t,r,n,i,o,a){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(i<1)throw new Error("verticalSubdivisions must be 1 or greater");let u=void 0===o||o,s=void 0===a||a,f=(u?2:0)+(s?2:0),l=(n+1)*(i+1+f),c=X(3,l),y=X(3,l),m=X(2,l),d=X(3,n*(i+f/2)*2,Uint16Array),p=n+1,b=Math.atan2(e-t,r),h=Math.cos(b),v=Math.sin(b),A=i+(s?2:0);for(let o=u?-2:0;o<=A;++o){let a,u=o/i,s=r*u;o<0?(s=0,u=1,a=e):o>i?(s=r,u=1,a=t):a=e+o/i*(t-e),(-2===o||o===i+2)&&(a=0,u=0),s-=r/2;for(let e=0;e<p;++e){let t=Math.sin(e*Math.PI*2/n),r=Math.cos(e*Math.PI*2/n);c.push(t*a,s,r*a),o<0?y.push(0,-1,0):o>i?y.push(0,1,0):0===a?y.push(0,0,0):y.push(t*h,v,r*h),m.push(e/n,1-u)}}for(let e=0;e<i+f;++e)if(!(1===e&&u||e===i+f-2&&s))for(let t=0;t<n;++t)d.push(p*(e+0)+0+t,p*(e+0)+1+t,p*(e+1)+1+t),d.push(p*(e+0)+0+t,p*(e+1)+1+t,p*(e+1)+0+t);return{position:c,normal:y,texcoord:m,indices:d}}function ue(e,t){t=t||[];let r=[];for(let n=0;n<e.length;n+=4){let i=e[n],o=e.slice(n+1,n+4);o.push.apply(o,t);for(let e=0;e<i;++e)r.push.apply(r,o)}return r}function se(){let e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=ue([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=ue([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,i={position:X(3,n),texcoord:X(2,n),normal:X(3,n),color:X(4,n,Uint8Array),indices:X(3,n/3,Uint16Array)};i.position.push(e),i.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),i.normal.push(t),i.color.push(r);for(let e=0;e<n;++e)i.indices.push(e);return i}function fe(e,t,i,o,a,u,s){if(a<=0)throw new Error("subdivisionDown must be > 0");let f=2,l=(s=s||1)-(u=u||0),c=2*(a+1)*(2+f),y=X(3,c),m=X(3,c),d=X(2,c);function p(e,t,r){return e+(t-e)*r}function b(t,i,s,c,b,h){for(let v=0;v<=a;v++){let A=i/(f-1),g=v/a,x=2*(A-.5),z=(u+g*l)*Math.PI,w=Math.sin(z),T=Math.cos(z),S=p(e,t,w),P=x*o,E=T*e,C=w*S;y.push(P,E,C);let k=r(n([0,w,T],s),c);m.push(k),d.push(A*b+h,g)}}for(let e=0;e<f;e++){let r=2*(e/(f-1)-.5);b(t,e,[1,1,1],[0,0,0],1,0),b(t,e,[0,0,0],[r,0,0],0,0),b(i,e,[1,1,1],[0,0,0],1,0),b(i,e,[0,0,0],[r,0,0],0,1)}let h=X(3,2*a*(2+f),Uint16Array);function v(e,t){for(let r=0;r<a;++r)h.push(e+r+0,e+r+1,t+r+0),h.push(e+r+1,t+r+1,t+r+0)}let A=a+1;return v(0*A,4*A),v(5*A,7*A),v(6*A,2*A),v(3*A,1*A),{position:y,normal:m,texcoord:d,indices:h}}function le(e,t,r,n,i,o){return ae(e,e,t,r,n,i,o)}function ce(e,t,r,n,i,o){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");i=i||0;let a=(o=o||2*Math.PI)-i,u=r+1,s=n+1,f=u*s,l=X(3,f),c=X(3,f),y=X(2,f),m=X(3,r*n*2,Uint16Array);for(let o=0;o<s;++o){let s=o/n,f=s*Math.PI*2,m=Math.sin(f),d=e+m*t,p=Math.cos(f),b=p*t;for(let e=0;e<u;++e){let t=e/r,n=i+t*a,o=Math.sin(n),u=Math.cos(n),f=o*d,h=u*d,v=o*m,A=u*m;l.push(f,b,h),c.push(v,p,A),y.push(t,1-s)}}for(let e=0;e<n;++e)for(let t=0;t<r;++t){let r=1+t,n=1+e;m.push(u*e+t,u*n+t,u*e+r),m.push(u*n+t,u*n+r,u*e+r)}return{position:l,normal:c,texcoord:y,indices:m}}function ye(e,t,r,n,i){if(t<3)throw new Error("divisions must be at least 3");i=i||1,n=n||0;let o=(t+1)*((r=r||1)+1),a=X(3,o),u=X(3,o),s=X(2,o),f=X(3,r*t*2,Uint16Array),l=0,c=e-n,y=t+1;for(let e=0;e<=r;++e){let o=n+c*Math.pow(e/r,i);for(let n=0;n<=t;++n){let i=2*Math.PI*n/t,c=o*Math.cos(i),m=o*Math.sin(i);if(a.push(c,0,m),u.push(0,1,0),s.push(1-n/t,e/r),e>0&&n!==t){let e=l+(n+1),t=l+n,r=l+n-y,i=l+(n+1)-y;f.push(e,t,r),f.push(e,r,i)}}l+=t+1}return{position:a,normal:u,texcoord:s,indices:f}}function me(e){return function(t){return K(t,e.apply(this,Array.prototype.slice.call(arguments,1)))}}function de(e){return function(t){return Y(t,e.apply(null,Array.prototype.slice.call(arguments,1)))}}de(se),me(se),de(oe),me(oe),de(re),me(re),de(ne),me(ne),de(ae),me(ae),de(te),me(te),de(fe),me(fe),de(le),me(le),de(ce),me(ce),de(ye),me(ye);function pe(e){return!!e.texStorage2D}var be=function(){let e={},t={};return function(r,n){return function(r){let n=r.constructor.name;if(!e[n]){for(let e in r)if("number"==typeof r[e]){let n=t[r[e]];t[r[e]]=n?`${n} | ${e}`:e}e[n]=!0}}(r),t[n]||("number"==typeof n?`0x${n.toString(16)}`:n)}}();new Uint8Array([128,192,255,255]),function(){let e}();{let e={6406:{numColorComponents:1},6409:{numColorComponents:1},6410:{numColorComponents:2},6407:{numColorComponents:3},6408:{numColorComponents:4},6403:{numColorComponents:1},36244:{numColorComponents:1},33319:{numColorComponents:2},33320:{numColorComponents:2}};e[6407]={numColorComponents:3},e[36248]={numColorComponents:3},e[6408]={numColorComponents:4},e[36249]={numColorComponents:4},e[6402]={numColorComponents:1},e[34041]={numColorComponents:2}}var he=function(...e){console.error(...e)};function ve(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}var Ae=33984,ge=34962,xe=34963,ze=35713,we=35714,Te=35632,Se=35633,Pe=35981,Ee=35718,Ce=35721,ke=35971,Ue=35382,Me=35396,Ie=35398,Fe=35392,Oe=35395,Be=5126,je=5124,$e=5125,_e=3553,Re=34067,Ve=32879,De=35866,Le={};function Ne(e,t){return Le[t].bindPoint}function We(e,t){return function(r){e.uniform1i(t,r)}}function He(e,t){return function(r){e.uniform1iv(t,r)}}function Ge(e,t){return function(r){e.uniform2iv(t,r)}}function qe(e,t){return function(r){e.uniform3iv(t,r)}}function Ye(e,t){return function(r){e.uniform4iv(t,r)}}function Ke(e,t,r,n){let i=Ne(0,t);return pe(e)?function(t){let o,a;!t||g(0,t)?(o=t,a=null):(o=t.texture,a=t.sampler),e.uniform1i(n,r),e.activeTexture(Ae+r),e.bindTexture(i,o),e.bindSampler(r,a)}:function(t){e.uniform1i(n,r),e.activeTexture(Ae+r),e.bindTexture(i,t)}}function Xe(e,t,r,n,i){let o=Ne(0,t),a=new Int32Array(i);for(let e=0;e<i;++e)a[e]=r+e;return pe(e)?function(t){e.uniform1iv(n,a),t.forEach((function(t,n){let i,u;e.activeTexture(Ae+a[n]),g(0,t)?(i=t,u=null):(i=t.texture,u=t.sampler),e.bindSampler(r,u),e.bindTexture(o,i)}))}:function(t){e.uniform1iv(n,a),t.forEach((function(t,r){e.activeTexture(Ae+a[r]),e.bindTexture(o,t)}))}}function Ze(e,t){return function(r){if(r.value)switch(e.disableVertexAttribArray(t),r.value.length){case 4:e.vertexAttrib4fv(t,r.value);break;case 3:e.vertexAttrib3fv(t,r.value);break;case 2:e.vertexAttrib2fv(t,r.value);break;case 1:e.vertexAttrib1fv(t,r.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(ge,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,r.numComponents||r.size,r.type||Be,r.normalize||!1,r.stride||0,r.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,r.divisor||0)}}function Je(e,t){return function(r){if(r.value){if(e.disableVertexAttribArray(t),4!==r.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,r.value)}else e.bindBuffer(ge,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||je,r.stride||0,r.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,r.divisor||0)}}function Qe(e,t){return function(r){if(r.value){if(e.disableVertexAttribArray(t),4!==r.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,r.value)}else e.bindBuffer(ge,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||$e,r.stride||0,r.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,r.divisor||0)}}function et(e,t,r){let n=r.size,i=r.count;return function(r){e.bindBuffer(ge,r.buffer);let o=r.size||r.numComponents||n,a=o/i,u=r.type||Be,s=Le[u].size*o,f=r.normalize||!1,l=r.offset||0,c=s/i;for(let n=0;n<i;++n)e.enableVertexAttribArray(t+n),e.vertexAttribPointer(t+n,a,u,f,s,l+c*n),e.vertexAttribDivisor&&e.vertexAttribDivisor(t+n,r.divisor||0)}}Le[Be]={Type:Float32Array,size:4,setter:function(e,t){return function(r){e.uniform1f(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1fv(t,r)}}},Le[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(r){e.uniform2fv(t,r)}},cols:2},Le[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(r){e.uniform3fv(t,r)}},cols:3},Le[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniform4fv(t,r)}},cols:4},Le[je]={Type:Int32Array,size:4,setter:We,arraySetter:He},Le[35667]={Type:Int32Array,size:8,setter:Ge,cols:2},Le[35668]={Type:Int32Array,size:12,setter:qe,cols:3},Le[35669]={Type:Int32Array,size:16,setter:Ye,cols:4},Le[$e]={Type:Uint32Array,size:4,setter:function(e,t){return function(r){e.uniform1ui(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1uiv(t,r)}}},Le[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(r){e.uniform2uiv(t,r)}},cols:2},Le[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(r){e.uniform3uiv(t,r)}},cols:3},Le[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(r){e.uniform4uiv(t,r)}},cols:4},Le[35670]={Type:Uint32Array,size:4,setter:We,arraySetter:He},Le[35671]={Type:Uint32Array,size:8,setter:Ge,cols:2},Le[35672]={Type:Uint32Array,size:12,setter:qe,cols:3},Le[35673]={Type:Uint32Array,size:16,setter:Ye,cols:4},Le[35674]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}},rows:2,cols:2},Le[35675]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}},rows:3,cols:3},Le[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}},rows:4,cols:4},Le[35685]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}},rows:2,cols:3},Le[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}},rows:2,cols:4},Le[35687]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}},rows:3,cols:2},Le[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}},rows:3,cols:4},Le[35689]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}},rows:4,cols:2},Le[35690]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}},rows:4,cols:3},Le[35678]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:_e},Le[35680]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:Re},Le[35679]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:Ve},Le[35682]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:_e},Le[36289]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:De},Le[36292]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:De},Le[36293]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:Re},Le[36298]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:_e},Le[36299]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:Ve},Le[36300]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:Re},Le[36303]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:De},Le[36306]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:_e},Le[36307]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:Ve},Le[36308]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:Re},Le[36311]={Type:null,size:0,setter:Ke,arraySetter:Xe,bindPoint:De};var tt={};tt[Be]={size:4,setter:Ze},tt[35664]={size:8,setter:Ze},tt[35665]={size:12,setter:Ze},tt[35666]={size:16,setter:Ze},tt[je]={size:4,setter:Je},tt[35667]={size:8,setter:Je},tt[35668]={size:12,setter:Je},tt[35669]={size:16,setter:Je},tt[$e]={size:4,setter:Qe},tt[36294]={size:8,setter:Qe},tt[36295]={size:12,setter:Qe},tt[36296]={size:16,setter:Qe},tt[35670]={size:4,setter:Je},tt[35671]={size:8,setter:Je},tt[35672]={size:12,setter:Je},tt[35673]={size:16,setter:Je},tt[35674]={size:4,setter:et,count:2},tt[35675]={size:9,setter:et,count:3},tt[35676]={size:16,setter:et,count:4};var rt=/ERROR:\s*\d+:(\d+)/gi;var nt=/^[ \t]*\n/;function it(e){let t=0;return nt.test(e)&&(t=1,e=e.replace(nt,"")),{lineOffset:t,shaderSource:e}}function ot(e,t,r,n){if(n=n||he,!e.getShaderParameter(r,ze)){let i=e.getShaderInfoLog(r),{lineOffset:o,shaderSource:a}=it(e.getShaderSource(r)),u=`${function(e,t="",r=0){let n=[...t.matchAll(rt)],i=new Map(n.map(((e,r)=>{let i=parseInt(e[1]),o=n[r+1],a=o?o.index:t.length;return[i-1,t.substring(e.index,a)]})));return e.split("\n").map(((e,t)=>{let n=i.get(t);return`${t+1+r}: ${e}${n?`\n\n^^^ ${n}`:""}`})).join("\n")}(a,i,o)}\nError compiling ${be(e,t)}: ${i}`;return n(u),u}return""}function at(e,t,r){let n,i,o;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){let t=e;r=t.errorCallback,e=t.attribLocations,n=t.transformFeedbackVaryings,i=t.transformFeedbackMode,o=t.callback}let a=r||he,u=[],s={errorCallback(e,...t){u.push(e),a(e,...t)},transformFeedbackVaryings:n,transformFeedbackMode:i,callback:o,errors:u};{let r={};Array.isArray(e)?e.forEach((function(e,n){r[e]=t?t[n]:n})):r=e||{},s.attribLocations=r}return s}var ut=["VERTEX_SHADER","FRAGMENT_SHADER"];function st(e,t){return t.indexOf("frag")>=0?Te:t.indexOf("vert")>=0?Se:void 0}var ft=(e=0)=>new Promise((t=>setTimeout(t,e)));function lt(e,t,r){let n=e.createProgram(),{attribLocations:i,transformFeedbackVaryings:o,transformFeedbackMode:a}=at(r);for(let r=0;r<t.length;++r){let i=t[r];if("string"==typeof i){let t=ve(i),o=t?t.text:i,a=e[ut[r]];t&&t.type&&(a=st(0,t.type)||a),i=e.createShader(a),e.shaderSource(i,it(o).shaderSource),e.compileShader(i),e.attachShader(n,i)}}Object.entries(i).forEach((([t,r])=>e.bindAttribLocation(n,r,t)));{let t=o;t&&(t.attribs&&(t=t.attribs),Array.isArray(t)||(t=Object.keys(t)),e.transformFeedbackVaryings(n,t,a||Pe))}return e.linkProgram(n),n}function ct(e,t,r,n,i){let o=at(r,n,i),a=new Set(t),u=lt(e,t,o);function s(e,t){let r=dt(e,t,o.errorCallback);return r&&function(e,t,r){let n=e.getAttachedShaders(t);for(let t of n)r.has(t)&&e.deleteShader(t);e.deleteProgram(t)}(e,t,a),r}if(!o.callback)return s(e,u)?void 0:u;mt(e,u).then((()=>{let t=s(e,u);o.callback(t,t?void 0:u)}))}function yt(e){return function(t,r,...n){return new Promise(((i,o)=>{let a=at(...n);a.callback=(e,t)=>{e?o(e):i(t)},e(t,r,a)}))}}yt(ct),yt(wt);async function mt(e,t){let r=e.getExtension("KHR_parallel_shader_compile"),n=r?(e,t)=>e.getProgramParameter(t,r.COMPLETION_STATUS_KHR):()=>!0,i=0;do{await ft(i),i=1e3/60}while(!n(e,t))}function dt(e,t,r){if(r=r||he,!e.getProgramParameter(t,we)){let n=e.getProgramInfoLog(t);return r(`Error in program linking: ${n}`),`${n}\n${e.getAttachedShaders(t).map((t=>ot(e,e.getShaderParameter(t,e.SHADER_TYPE),t,r))).filter((e=>e)).join("\n")}`}}function pt(e){let t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}var bt=/(\.|\[|]|\w+)/g,ht=e=>e>="0"&&e<="9";function vt(e,t,r,n){let i=e.split(bt).filter((e=>""!==e)),o=0,a="";for(;;){let e=i[o++];a+=e;let u=ht(e[0]),s=u?parseInt(e):e;if(u&&(a+=i[o++]),o===i.length){r[s]=t;break}{let e=i[o++],t="["===e,u=r[s]||(t?[]:{});r[s]=u,r=u,n[a]=n[a]||function(e){return function(t){At(e,t)}}(u),a+=e}}}function At(e,t){for(let r in t){let n=e[r];"function"==typeof n?n(t[r]):At(e[r],t[r])}}function gt(e,...t){let r=e.uniformSetters||e,n=t.length;for(let e=0;e<n;++e){let n=t[e];if(Array.isArray(n)){let e=n.length;for(let t=0;t<e;++t)gt(r,n[t])}else for(let e in n){let t=r[e];t&&t(n[e])}}}function xt(e,t){let r=function(e,t){let r=0;function n(t,n,i){let o,a=n.name.endsWith("[0]"),u=n.type,s=Le[u];if(!s)throw new Error(`unknown type: 0x${u.toString(16)}`);if(s.bindPoint){let t=r;r+=n.size,o=a?s.arraySetter(e,u,t,i,n.size):s.setter(e,u,t,i,n.size)}else o=s.arraySetter&&a?s.arraySetter(e,i):s.setter(e,i);return o.location=i,o}let i={},o={},a=e.getProgramParameter(t,Ee);for(let r=0;r<a;++r){let a=e.getActiveUniform(t,r);if(pt(a))continue;let u=a.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));let s=e.getUniformLocation(t,a.name);if(s){let e=n(0,a,s);i[u]=e,vt(u,e,o,i)}}return i}(e,t),n=function(e,t){let r={},n=e.getProgramParameter(t,Ce);for(let i=0;i<n;++i){let n=e.getActiveAttrib(t,i);if(pt(n))continue;let o=e.getAttribLocation(t,n.name),a=tt[n.type],u=a.setter(e,o,a);u.location=o,r[n.name]=u}return r}(e,t),i={program:t,uniformSetters:r,attribSetters:n};return pe(e)&&(i.uniformBlockSpec=function(e,t){let r=e.getProgramParameter(t,Ee),n=[],i=[];for(let o=0;o<r;++o){i.push(o),n.push({});let r=e.getActiveUniform(t,o);n[o].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(r){let o=r[0],a=r[1];e.getActiveUniforms(t,i,e[o]).forEach((function(e,t){n[t][a]=e}))}));let o={},a=e.getProgramParameter(t,Ue);for(let r=0;r<a;++r){let n=e.getActiveUniformBlockName(t,r),i={index:e.getUniformBlockIndex(t,n),usedByVertexShader:e.getActiveUniformBlockParameter(t,r,Me),usedByFragmentShader:e.getActiveUniformBlockParameter(t,r,Ie),size:e.getActiveUniformBlockParameter(t,r,Fe),uniformIndices:e.getActiveUniformBlockParameter(t,r,Oe)};i.used=i.usedByVertexShader||i.usedByFragmentShader,o[n]=i}return{blockSpecs:o,uniformData:n}}(e,t),i.transformFeedbackInfo=function(e,t){let r={},n=e.getProgramParameter(t,ke);for(let i=0;i<n;++i){let n=e.getTransformFeedbackVarying(t,i);r[n.name]={index:i,type:n.type,size:n.size}}return r}(e,t)),i}var zt=/\s|{|}|;/;function wt(e,t,r,n,i){let o=at(r,n,i),a=[];if(t=t.map((function(e){if(!zt.test(e)){let t=ve(e);if(t)e=t.text;else{let t=`no element with id: ${e}`;o.errorCallback(t),a.push(t)}}return e})),a.length)return function(e,t){return e.errorCallback(t),e.callback&&setTimeout((()=>{e.callback(`${t}\n${e.errors.join("\n")}`)})),null}(o,"");let u=o.callback;u&&(o.callback=(t,r)=>{u(t,t?void 0:xt(e,r))});let s=function(e,t,r,n,i){return ct(e,t,r,n,i)}(e,t,o);return s?xt(e,s):null}function Tt(e,t,r,n,i){for(let[o,a]of Object.entries(t)){let u={...i},s=r[o];Array.isArray(s)||Object.assign(u,s);let f=dt(e,a,u.errorCallback);if(f){for(let r of Object.values(t)){let t=e.getAttachedShaders(r);e.deleteProgram(r);for(let r of t)n.has(r)||e.deleteShader(r)}return f}}}function St(e,t,r={}){let n=new Set,i=Object.fromEntries(Object.entries(t).map((([t,i])=>{let o={...r},a=Array.isArray(i)?i:i.shaders;return Array.isArray(i)||Object.assign(o,i),a.forEach(n.add,n),[t,lt(e,a,o)]})));if(!r.callback)return Tt(e,i,t,n,r)?void 0:i;(async function(e,t){for(let r of Object.values(t))await mt(e,r)})(e,i).then((()=>{let o=Tt(e,i,t,n,r);r.callback(o,o?void 0:i)}))}yt(St),yt((function(e,t,r){function n(e,t){return Object.fromEntries(Object.entries(t).map((([t,r])=>[t,xt(e,r)])))}let i=(r=at(r)).callback;i&&(r.callback=(t,r)=>{i(t,t?void 0:n(e,r))});let o=St(e,t,r);if(!i&&o)return n(e,o)}));var Pt=4,Et=5123;var Ct=36096,kt=33306,Ut={};Ut[34041]=kt,Ut[6401]=36128,Ut[36168]=36128,Ut[6402]=Ct,Ut[33189]=Ct,Ut[33190]=Ct,Ut[36012]=Ct,Ut[35056]=kt,Ut[36013]=kt;var Mt={};Mt[32854]=!0,Mt[32855]=!0,Mt[36194]=!0,Mt[34041]=!0,Mt[33189]=!0,Mt[6401]=!0,Mt[36168]=!0;var It={iTime:"g",iResolution:"j",position:"r"};(()=>{let e=document.getElementById("mtw-canvas");e.style.backgroundColor="black";let t=e.getContext("webgl"),r=wt(t,["\nattribute vec3 r;void main(){gl_Position=vec4(r,1);}","\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform float g;uniform vec3 j;vec3 k(vec3 e,vec3 a,vec3 f,vec3 b,vec3 c){vec3 d=e-f;return vec3(dot(cross(b,c),d),dot(cross(d,b),a),dot(cross(c,d),a))/dot(cross(c,b),a);}vec3 l(float a){return fract(sin(vec3(a,a+1.,a+2.))*vec3(43758.545312,12578.145912,19642.349042));}vec3 n(vec4 a){float c=length(a.yz),f=atan(a.y,a.z)+.6*g,d=sin(5.*f);vec3 e=.5+.5*sin(a.w/32.*3.5+vec3(0,1,2)),b=vec3(0);b+=e*1.*(1.-smoothstep(0.,.03,abs(c-.8)))*(.5+.5*d),b+=e*.7*(1.-smoothstep(0.,.2,abs(c-.8)))*(.5+.5*d),b+=e*.5*(1.-smoothstep(.05,.1,abs(c-.5)))*(.5+.5*d);return b*.3;}vec3 m(vec3 e,vec3 f){vec3 h=vec3(0);for(float a=0.;a<25.;a++){vec3 b=1.5*(-1.+2.*l(a*3.1415/1.5));if(a==1.)b+=1.4;vec3 c=normalize(b.zxy),i=normalize(cross(c,vec3(0,1,0))),d=k(e,f,b,c,i);if(dot(d.yz,d.yz)<1.&&d.x>0.)h+=n(vec4(d,a*3.1415));}return h;}void o(out vec4 p,vec2 e){vec2 b=(2.*e-j.xy)/j.y;vec3 c=1.5*vec3(cos(.05*g),0,sin(.05*g)),f=vec3(0,0,0),a=normalize(f-c),d=normalize(cross(a,vec3(0,1,0))),h=normalize(cross(d,a)),i=normalize(b.x*d+b.y*h+1.*a),q=m(c,i);p=vec4(q,1);}void main(){o(gl_FragColor,gl_FragCoord.xy);}"]);t.useProgram(r.program);let n={[It.position]:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]},i=Y(t,n);!function(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(function(e,t){for(let r in t){let n=e[r];n&&n(t[r])}}(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(xe,r.indices))}(t,r,i);let o={[It.iTime]:0,[It.iResolution]:[]},a=Math.floor(100*Math.random());requestAnimationFrame((function n(){o[It.iTime]=a+performance.now()/4500,o[It.iResolution]=[e.clientWidth,e.clientHeight,1],function(e,t){t=t||1,t=Math.max(0,t);let r=e.clientWidth*t|0,n=e.clientHeight*t|0;(e.width!==r||e.height!==n)&&(e.width=r,e.height=n)}(t.canvas),t.viewport(0,0,e.clientWidth,e.clientHeight),gt(r,o),function(e,t,r,n,i,o){r=void 0===r?Pt:r;let a=t.indices,u=t.elementType,s=void 0===n?t.numElements:n;i=void 0===i?0:i,u||a?void 0!==o?e.drawElementsInstanced(r,s,void 0===u?Et:t.elementType,i,o):e.drawElements(r,s,void 0===u?Et:t.elementType,i):void 0!==o?e.drawArraysInstanced(r,i,s,o):e.drawArrays(r,i,s)}(t,i),setTimeout((()=>requestAnimationFrame(n)),100)}))})()})();
/*! MTW-CANVAS-DISKS: MAIN.JS
 * 
 * Author: sitdisch
 * Source: https://github.com/mythemeway
 * License: MIT
 * Copyright: © 2022 sitdisch
 *
 * FRAGMENT SHADER IS BASED ON:
 * 
 * Shadertoy: CoordSys - intersection
 * 
 * Original Author: Inigo Quilez
 * Source: https://www.shadertoy.com/view/lsfGDB
 * License: MIT
 * Copyright: © 2013 Inigo Quilez
 * Changes: made
 */
/*! Bundled license information:

twgl.js/dist/5.x/twgl-full.module.js:
  (* @license twgl.js 5.3.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
  Available via the MIT license.
  see: http://github.com/greggman/twgl.js for details *)
*/